# 压缩解压工具测试报告

**测试时间**: 2025-12-03 15:13:36

---

======================================================================
压缩解压工具测试
======================================================================
测试时间: 2025-12-03 15:13:36

  ✓ 创建测试文件在: C:\Users\ADMINI~1\AppData\Local\Temp\tmpszwkw44h\test_files

======================================================================
测试 1: 默认格式测试（不指定 format，应使用 ZIP）
======================================================================
  ✓ 默认格式压缩成功（使用 ZIP）
    输出文件: C:\Users\ADMINI~1\AppData\Local\Temp\tmpszwkw44h\output\test_default.zip
    文件大小: 180 字节
    ✓ 确认使用 ZIP 格式（默认格式）

======================================================================
测试 2: ZIP 格式压缩（无密码）
======================================================================
  ✓ ZIP 压缩成功（无密码）
    输出文件: C:\Users\ADMINI~1\AppData\Local\Temp\tmpszwkw44h\output\test_zip_no_password.zip
    文件大小: 448 字节

======================================================================
测试 3: ZIP 格式解压（无密码）
======================================================================
  ✓ ZIP 解压成功
    输出目录: C:\Users\ADMINI~1\AppData\Local\Temp\tmpszwkw44h\output\extracted_zip
    解压文件数: 3
    文件列表:
      - file1.txt
      - file2.txt
      - file3.txt

======================================================================
测试 4: ZIP 格式压缩（有密码）
======================================================================
  ✓ 密码压缩成功
    输出文件: C:\Users\ADMINI~1\AppData\Local\Temp\tmpszwkw44h\output\test_password.zip
  ✓ 密码解压成功
  ✓ ZIP 错误密码检测成功（正确拒绝解压）
    错误信息: 密码错误
    ✓ 使用了 pyzipper，提供真正的 AES 密码保护

======================================================================
测试 5: ZIP 格式解压（有密码 - 正确密码）
======================================================================
  ✓ ZIP 密码解压成功（正确密码）
    输出目录: C:\Users\ADMINI~1\AppData\Local\Temp\tmpszwkw44h\output\extracted_zip_password
    解压文件数: 1

======================================================================
测试 6: ZIP 格式解压（有密码 - 错误密码）
======================================================================
  ✓ ZIP 错误密码检测成功（正确拒绝解压）
    错误信息: 密码错误
    ✓ 使用了 pyzipper，提供真正的 AES 密码保护

======================================================================
测试 7: 7Z 格式压缩（无密码）
======================================================================
  ✓ py7zr 已安装
  ✓ 7Z 压缩成功
    输出文件: C:\Users\ADMINI~1\AppData\Local\Temp\tmpszwkw44h\output\test.7z
    文件大小: 248 字节

======================================================================
测试 8: 7Z 格式解压（无密码）
======================================================================
  ✓ 7Z 解压成功（无密码）
    输出目录: C:\Users\ADMINI~1\AppData\Local\Temp\tmpszwkw44h\output\extracted_7z
    解压文件数: 2

======================================================================
测试 9: 7Z 格式压缩（有密码）
======================================================================
  ✓ py7zr 已安装
  ✓ 7Z 密码压缩成功
    输出文件: C:\Users\ADMINI~1\AppData\Local\Temp\tmpszwkw44h\output\test_7z_password.7z

======================================================================
测试 10: 7Z 格式解压（有密码 - 正确密码）
======================================================================
  ✓ 7Z 密码解压成功（正确密码）
    输出目录: C:\Users\ADMINI~1\AppData\Local\Temp\tmpszwkw44h\output\extracted_7z_password
    解压文件数: 1

======================================================================
测试 11: 7Z 格式解压（有密码 - 错误密码）
======================================================================
  ✗ 7Z 错误密码检测失败（应该失败但成功了）

======================================================================
测试 12: RAR 格式压缩（无密码）
======================================================================
  ✓ rarfile 已安装
  ⚠ RAR 压缩: RAR 格式创建需要系统安装 WinRAR 或 rar 工具，建议使用 ZIP 或 7Z 格式
    注意：RAR 格式创建需要系统安装 WinRAR 或 rar 工具

======================================================================
测试 13: RAR 格式压缩（有密码）
======================================================================
  ✓ rarfile 已安装
  ⚠ RAR 密码压缩: RAR 格式创建需要系统安装 WinRAR 或 rar 工具，建议使用 ZIP 或 7Z 格式
    注意：RAR 格式创建需要系统安装 WinRAR 或 rar 工具

======================================================================
测试 17: 不同压缩级别对比
======================================================================
  级别 0: 177 字节
  级别 3: 180 字节
  级别 6: 180 字节
  级别 9: 180 字节

  最小: 177 字节 (级别 0)
  最大: 180 字节 (级别 3)
  压缩率: 1.7%

======================================================================
测试 18: 每个文件单独压缩
======================================================================
  ✓ 单独压缩成功
    创建了 2 个压缩包:
      - separate_file1.zip
      - separate_file2.zip

======================================================================
测试 19: 分卷压缩（7Z 格式）
======================================================================
  ✓ py7zr 已安装
  ✗ 分卷压缩失败: py7zr 库不支持分卷压缩。如需分卷压缩，请使用外部 7z 工具（如 7z.exe）或手动分割文件。

======================================================================
测试 20: 错误情况处理
======================================================================

  8.1 测试不存在的文件:
    ✓ 正确检测到文件不存在: 文件或目录不存在: nonexistent_file.txt

  8.2 测试不支持的格式:
    ✓ 正确检测到不支持的格式: 不支持的格式: tar.gz。可用格式: zip, 7z, rar

  8.3 测试不存在的压缩文件解压:
    ✓ 正确检测到文件不存在: 压缩文件不存在: nonexistent.zip

======================================================================
测试完成
完成时间: 2025-12-03 15:13:36
======================================================================

---

**测试完成时间**: 2025-12-03 15:13:36

> 测试结果已自动保存到此文档
